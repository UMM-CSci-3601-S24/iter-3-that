<div *ngIf="currentTaskId" class="overlay" (click)="cancelCapture()" (keydown.enter)="cancelCapture()" (keydown.space)="cancelCapture()" tabindex="0"></div>

<mat-card class="hunt-information-card">
    <mat-card-title class="hunt-title">You are in {{ startedHunt?.completeHunt?.hunt?.name }}</mat-card-title>
</mat-card>

<div class="task-table">
  <div class="flex-row header-row">
    <div class="flex-1"> Your Picture </div>
    <div class="flex-2"> Your Task </div>
  </div>

  <div class="flex-row" *ngFor="let task of startedHunt?.completeHunt?.tasks">
    <div class="image-upload">
      <img [src]="imageUrls[task._id] || 'assets/icons8-upload-picture-64.png'" alt="Upload Picture" title="Upload Picture" height="100px" width="100px" />
      <button (click)="startCapture(task._id)">Upload Image</button>
    </div>

    <div *ngIf="currentTaskId === task._id" class="modal">
      <!-- web cam image will be shown here -->
      <webcam [trigger]="$trigger" (imageCapture)="snapshot($event, task)" [imageQuality]="1" class="webcam"></webcam>
      <button class="capture-image-button" (click)="captureImage()" >Capture Image</button>
      <button class="cancel-capture-button" (click)="cancelCapture()">X</button>
    </div>

    <div class="task-list" [ngClass]="{'task-completed': task.status}">{{ task.name }}</div>
  </div>
</div>
